<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Santé & Sérénité - Pratiques Respiratoires</title>
    
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Tone.js for audio -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%232dd4bf'%3E%3Cpath d='M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z'/%3E%3C/svg%3E">
    
    <style>
      @keyframes fadeIn { 
        from { opacity: 0; transform: translateY(10px); } 
        to { opacity: 1; transform: translateY(0); } 
      }
      .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
    </style>
</head>
<body class="bg-slate-100 font-sans text-slate-800 flex flex-col min-h-screen">

    <!-- Header / Navigation -->
    <nav class="bg-white/70 backdrop-blur-lg shadow-sm sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <!-- Logo / Home Button -->
                <div id="nav-home" class="flex items-center space-x-2 cursor-pointer">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="#2dd4bf" viewBox="0 0 24 24" class="w-6 h-6 text-teal-500"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path></svg>
                    <span class="font-bold text-lg hidden sm:block">Santé & Sérénité</span>
                </div>
                
                <!-- Desktop Navigation -->
                <div id="desktop-nav" class="hidden md:flex items-center space-x-1">
                    <button data-page="home" class="nav-button px-3 py-2 rounded-md text-sm font-medium text-slate-600 hover:bg-slate-200">Accueil</button>
                    <button data-page="coherence" class="nav-button px-3 py-2 rounded-md text-sm font-medium text-slate-600 hover:bg-slate-200">Cohérence</button>
                    <button data-page="carree" class="nav-button px-3 py-2 rounded-md text-sm font-medium text-slate-600 hover:bg-slate-200">Respiration Carrée</button>
                    <button data-page="478" class="nav-button px-3 py-2 rounded-md text-sm font-medium text-slate-600 hover:bg-slate-200">Technique 4-7-8</button>
                    <button data-page="afghane" class="nav-button px-3 py-2 rounded-md text-sm font-medium text-slate-600 hover:bg-slate-200">Marche Afghane</button>
                </div>
                
                <!-- Mobile Menu Button -->
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="p-2 rounded-md text-slate-600 hover:bg-slate-200">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="md:hidden hidden">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                 <button data-page="home" class="nav-button text-slate-600 hover:bg-slate-200 block w-full text-left px-3 py-2 rounded-md text-base font-medium">Accueil</button>
                 <button data-page="coherence" class="nav-button text-slate-600 hover:bg-slate-200 block w-full text-left px-3 py-2 rounded-md text-base font-medium">Cohérence Cardiaque</button>
                 <button data-page="carree" class="nav-button text-slate-600 hover:bg-slate-200 block w-full text-left px-3 py-2 rounded-md text-base font-medium">Respiration Carrée</button>
                 <button data-page="478" class="nav-button text-slate-600 hover:bg-slate-200 block w-full text-left px-3 py-2 rounded-md text-base font-medium">Technique 4-7-8</button>
                 <button data-page="afghane" class="nav-button text-slate-600 hover:bg-slate-200 block w-full text-left px-3 py-2 rounded-md text-base font-medium">Marche Afghane</button>
            </div>
        </div>
    </nav>

    <!-- Main content area -->
    <main id="app-content" class="flex-grow container mx-auto px-4 py-8"></main>

    <!-- Footer -->
    <footer class="text-center py-4 text-xs text-slate-500">
        <p>Créé pour Naval Group Toulon. Inspiré par les travaux de F. ESPOSITO et F. GENDRE.</p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const appContent = document.getElementById('app-content');
        let audio;
        let activeInterval;
        let activeTimeout;
        let animationFrameId;

        function setupAudio() {
            if (audio) return;
            const inspireSynth = new Tone.AMSynth({ harmonicity: 1.5, oscillator: { type: 'sine' }, envelope: { attack: 1.5, decay: 0.1, sustain: 1, release: 1.5 }, modulation: { type: 'sine' }, modulationEnvelope: { attack: 0.5, decay: 0.01, sustain: 1, release: 0.5 } }).toDestination();
            inspireSynth.volume.value = -12;
            const expireSynth = new Tone.Synth({ oscillator: { type: 'triangle' }, envelope: { attack: 2, decay: 0.1, sustain: 1, release: 2 } }).toDestination();
            expireSynth.volume.value = -18;
            const retainSynth = new Tone.Synth({ oscillator: { type: 'sine' }, envelope: { attack: 2, decay: 0.1, sustain: 1, release: 2 } }).toDestination();
            retainSynth.volume.value = -22;
            audio = {
                isStarted: false,
                synths: [inspireSynth, expireSynth, retainSynth],
                async start() { if (this.isStarted) return; await Tone.start(); this.isStarted = true; },
                inspireAttack() { if (this.isStarted) inspireSynth.triggerAttack("C4"); },
                inspireRelease() { if (this.isStarted) inspireSynth.triggerRelease(); },
                expireAttack() { if (this.isStarted) expireSynth.triggerAttack("F3"); },
                expireRelease() { if (this.isStarted) expireSynth.triggerRelease(); },
                retainAttack() { if (this.isStarted) retainSynth.triggerAttack("C2"); },
                retainRelease() { if (this.isStarted) retainSynth.triggerRelease(); },
                releaseAll() { if (this.isStarted) this.synths.forEach(synth => synth.triggerRelease()); }
            };
        }
        
        function cleanup() {
            if (activeInterval) clearInterval(activeInterval);
            if (activeTimeout) clearTimeout(activeTimeout);
            if (animationFrameId) cancelAnimationFrame(animationFrameId);
            if (audio) audio.releaseAll();
        }

        function navigateTo(page) {
            cleanup();
            
            appContent.classList.remove('animate-fade-in');
            appContent.classList.add('opacity-0');
            document.getElementById('mobile-menu').classList.add('hidden');
            
            document.querySelectorAll('.nav-button').forEach(btn => {
                btn.classList.remove('bg-teal-100', 'text-teal-700');
                if (btn.dataset.page === page) {
                    btn.classList.add('bg-teal-100', 'text-teal-700');
                }
            });

            setTimeout(() => {
                appContent.innerHTML = '';
                if (page === 'home') renderHomePage();
                if (page === 'coherence') renderCoherencePage();
                if (page === 'carree') renderCarreePage();
                if (page === '478') render478Page();
                if (page === 'afghane') renderAfghanePage();
                appContent.classList.remove('opacity-0');
                appContent.classList.add('animate-fade-in');
            }, 300);
        }

        document.body.addEventListener('click', (e) => {
            const button = e.target.closest('.nav-button');
            if (button) {
                navigateTo(button.dataset.page);
            }
        });
        document.getElementById('nav-home').addEventListener('click', () => navigateTo('home'));
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        
        function renderHomePage() {
            appContent.innerHTML = `<div class="text-center p-4 md:p-8"><header class="mb-8"><h1 class="text-4xl md:text-5xl font-bold text-slate-800 mb-2">Espace de Pratique Respiratoire</h1><p class="text-lg text-slate-600">Proposé par le Service de Prévention et Santé au Travail de Naval Group Toulon</p></header><main class="max-w-3xl mx-auto text-left space-y-6 bg-white p-6 md:p-8 rounded-2xl shadow-lg"><p class="text-slate-700">Bienvenue ! Suite à l'information sur la gestion du stress animée par Fabienne ESPOSITO et Frédéric GENDRE, cette page vise à vous offrir des outils pratiques pour intégrer ces techniques dans votre quotidien.</p><p class="text-slate-700">Vous trouverez ici plusieurs outils simples et efficaces pour vous aider à cultiver le calme et la sérénité. Prenez quelques instants pour vous, choisissez un exercice et laissez-vous guider.</p><nav class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-8"><button data-page="coherence" class="nav-button p-4 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-all duration-300 text-left flex items-center space-x-3 shadow-md hover:shadow-lg"><div><span class="font-bold">Cohérence Cardiaque</span><span class="text-sm block opacity-80">Réguler son rythme cardiaque</span></div></button><button data-page="carree" class="nav-button p-4 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-all duration-300 text-left flex items-center space-x-3 shadow-md hover:shadow-lg"><div><span class="font-bold">Respiration Carrée</span><span class="text-sm block opacity-80">Améliorer sa concentration</span></div></button><button data-page="478" class="nav-button p-4 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-all duration-300 text-left flex items-center space-x-3 shadow-md hover:shadow-lg"><div><span class="font-bold">Technique 4-7-8</span><span class="text-sm block opacity-80">Favoriser la relaxation profonde</span></div></button><button data-page="afghane" class="nav-button p-4 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-all duration-300 text-left flex items-center space-x-3 shadow-md hover:shadow-lg"><div><span class="font-bold">Marche Afghane</span><span class="text-sm block opacity-80">Dynamiser corps et esprit</span></div></button></nav></main></div>`;
        }

        function renderCoherencePage() {
            appContent.innerHTML = `<div class="flex flex-col items-center justify-center p-4 text-center"><h1 class="text-4xl font-bold text-slate-800 mb-4">Cohérence Cardiaque</h1><div class="relative w-64 h-64 flex items-center justify-center my-4"><div id="circle" class="absolute w-full h-full bg-teal-300 rounded-full transition-transform duration-[5000ms] ease-linear scale-50"></div><div class="relative z-10 text-white font-bold text-3xl"><p id="instruction">Prêt ?</p></div></div><p id="timer" class="text-5xl font-mono text-slate-700 my-4">05:00</p><div class="flex space-x-4"><button id="toggleBtn" class="px-8 py-3 bg-teal-500 text-white font-semibold rounded-lg shadow-md hover:bg-teal-600 transition-colors">Démarrer</button><button id="resetBtn" class="px-8 py-3 bg-slate-400 text-white font-semibold rounded-lg shadow-md hover:bg-slate-500 transition-colors">Réinitialiser</button></div><div class="mt-8 text-left max-w-2xl w-full bg-white/80 p-6 rounded-xl shadow-sm"><h2 class="text-2xl font-bold text-slate-700 mb-3">Description</h2><p class="text-slate-600 mb-4">La cohérence cardiaque est une pratique respiratoire qui vise à synchroniser la respiration avec le rythme cardiaque. En respirant à un rythme de 6 cycles par minute (5s d'inspiration, 5s d'expiration), on stimule le nerf vague, ce qui induit un état de calme et de vigilance.</p><h2 class="text-2xl font-bold text-slate-700 mb-3">Les Bienfaits</h2><ul class="list-disc list-inside space-y-2 text-slate-600"><li>Réduction immédiate du stress et de l'anxiété.</li><li>Amélioration de la gestion des émotions.</li><li>Baisse de la tension artérielle.</li></ul><h2 class="text-2xl font-bold text-slate-700 mb-3">Comment Pratiquer</h2><ul class="list-disc list-inside space-y-2 text-slate-600"><li>Asseyez-vous confortablement, le dos droit.</li><li><strong>Inspirez</strong> par le nez pendant 5 secondes.</li><li><strong>Expirez</strong> lentement par la bouche ou le nez pendant 5 secondes.</li><li>Continuez ce cycle pendant 5 minutes.</li></ul></div></div>`;
            const DURATION = 300; let time = DURATION; let isActive = false; const instructionEl = document.getElementById('instruction'), timerEl = document.getElementById('timer'), circleEl = document.getElementById('circle'), toggleBtn = document.getElementById('toggleBtn'), resetBtn = document.getElementById('resetBtn');
            function update() {
                if (!isActive) return;
                time--;
                timerEl.textContent = `${Math.floor(time/60).toString().padStart(2,'0')}:${(time%60).toString().padStart(2,'0')}`;
                const cyclePosition = (DURATION - time) % 10;
                if (cyclePosition === 5) {
                    instructionEl.textContent = "Expirez...";
                    circleEl.classList.replace('scale-100','scale-50');
                    audio?.inspireRelease(); audio?.expireAttack();
                } else if (cyclePosition === 0) {
                    instructionEl.textContent = "Inspirez...";
                    circleEl.classList.replace('scale-50','scale-100');
                    audio?.expireRelease(); audio?.inspireAttack();
                }
                if (time <= 0) {
                    clearInterval(activeInterval);
                    isActive=false;
                    toggleBtn.textContent='Démarrer';
                    instructionEl.textContent="Terminé !";
                    audio?.releaseAll();
                }
            }
            toggleBtn.addEventListener('click', e => {
                setupAudio(); audio.start();
                isActive = !isActive;
                e.target.textContent = isActive ? 'Pause' : 'Démarrer';
                if (isActive) {
                    if (time === DURATION) {
                        instructionEl.textContent = "Inspirez...";
                        circleEl.classList.replace('scale-50','scale-100');
                        audio?.inspireAttack();
                    }
                    activeInterval = setInterval(update, 1000);
                } else {
                    clearInterval(activeInterval);
                    audio?.releaseAll();
                }
            });
            resetBtn.addEventListener('click', () => {
                cleanup();
                isActive=false; time=DURATION; timerEl.textContent='05:00'; instructionEl.textContent='Prêt ?'; toggleBtn.textContent='Démarrer'; circleEl.classList.replace('scale-100','scale-50');
            });
        }
        
        function renderCarreePage() {
            appContent.innerHTML = `<div class="flex flex-col items-center justify-center p-4 text-center"><h1 class="text-4xl font-bold text-slate-800 mb-4">Respiration Carrée</h1><div class="relative w-56 h-56 border-4 border-sky-400 rounded-lg my-8"><div id="dot" class="absolute w-6 h-6 bg-sky-500 rounded-full" style="transform: translate(92px, 92px);"></div><div class="absolute inset-0 flex items-center justify-center"><p id="instruction" class="text-2xl font-bold text-sky-700">Prêt ?</p></div></div><div class="flex space-x-4 mt-8"><button id="toggleBtn" class="px-8 py-3 bg-sky-500 text-white font-semibold rounded-lg shadow-md hover:bg-sky-600 transition-colors">Démarrer</button><button id="resetBtn" class="px-8 py-3 bg-slate-400 text-white font-semibold rounded-lg shadow-md hover:bg-slate-500 transition-colors">Réinitialiser</button></div><div class="mt-8 text-left max-w-2xl w-full bg-white/80 p-6 rounded-xl shadow-sm"><h2 class="text-2xl font-bold text-slate-700 mb-3">Description</h2><p class="text-slate-600 mb-4">Issue des techniques de pranayama (yoga), la respiration carrée (Sama Vritti) est un exercice puissant pour recentrer son attention et calmer le système nerveux. En égalisant les quatre temps de la respiration, elle instaure un rythme prévisible et apaisant.</p><h2 class="text-2xl font-bold text-slate-700 mb-3">Les Bienfaits</h2><ul class="list-disc list-inside space-y-2 text-slate-600"><li>Améliore la concentration et la présence à l'instant.</li><li>Réduit l'anxiété et les pensées parasites.</li><li>Procure un sentiment de stabilité et d'équilibre mental.</li></ul><h2 class="text-2xl font-bold text-slate-700 mb-3">Comment Pratiquer</h2><ul class="list-disc list-inside space-y-2 text-slate-600"><li>Installez-vous confortablement, le dos droit.</li><li><strong>Inspirez</strong> par le nez en comptant jusqu'à 4.</li><li><strong>Bloquez</strong> votre respiration, poumons pleins, en comptant jusqu'à 4.</li><li><strong>Expirez</strong> lentement par le nez en comptant jusqu'à 4.</li><li><strong>Bloquez</strong> votre respiration, poumons vides, en comptant jusqu'à 4.</li></ul></div></div>`;
            const dot = document.getElementById('dot'); const instruction = document.getElementById('instruction'); const toggleBtn = document.getElementById('toggleBtn'); const resetBtn = document.getElementById('resetBtn');
            let isActive = false; let step = 0; let phaseStartTime = 0; const INSTRUCTIONS = ["Prêt ?", "Inspirez...", "Bloquez...", "Expirez...", "Bloquez..."];
            function animate(currentTime) { if (!dot || !isActive) return; const elapsedTime = currentTime - phaseStartTime; const progress = Math.min(elapsedTime / 4000, 1); const maxPos = dot.parentElement.offsetWidth - dot.offsetWidth; let top=0, left=0;
                switch (step) { case 1: top=0; left = progress * maxPos; break; case 2: left = maxPos; top = progress * maxPos; break; case 3: top = maxPos; left = (1-progress) * maxPos; break; case 4: left = 0; top = (1-progress) * maxPos; break; default: top = maxPos/2; left = maxPos/2; }
                dot.style.transform = `translate(${left}px, ${top}px)`; animationFrameId = requestAnimationFrame(animate);
            }
            function changeStep() { if (!isActive) return; step = (step % 4) + 1; phaseStartTime = performance.now(); instruction.textContent = INSTRUCTIONS[step]; audio?.releaseAll(); if (step === 1) audio.inspireAttack(); else if (step === 2) audio.retainAttack(); else if (step === 3) audio.expireAttack(); else if (step === 4) audio.retainAttack(); }
            toggleBtn.addEventListener('click', () => { setupAudio(); audio.start(); isActive = !isActive; toggleBtn.textContent = isActive ? 'Pause' : 'Démarrer'; if (isActive) { if (step === 0) { changeStep(); } else { phaseStartTime = performance.now() - (performance.now() - phaseStartTime); } activeInterval = setInterval(changeStep, 4000); animationFrameId = requestAnimationFrame(animate); } else { cleanup(); } });
            resetBtn.addEventListener('click', () => { cleanup(); isActive = false; step = 0; instruction.textContent = 'Prêt ?'; toggleBtn.textContent = 'Démarrer'; const maxPos = dot.parentElement.offsetWidth - dot.offsetWidth; dot.style.transform = `translate(${maxPos/2}px, ${maxPos/2}px)`; });
        }

        function render478Page() {
            appContent.innerHTML = `<div class="flex flex-col items-center justify-center p-4 text-center"><h1 class="text-4xl font-bold text-slate-800 mb-4">Technique 4-7-8</h1><div class="w-24 h-72 bg-slate-200 rounded-lg overflow-hidden my-8 relative flex justify-center items-end shadow-inner"><div id="bar" class="w-full bg-indigo-400 rounded-lg" style="height: 0%; transition: height 1s linear;"></div><p id="instruction" class="absolute inset-x-0 top-1/2 -translate-y-1/2 text-2xl font-bold text-indigo-800">Prêt ?</p></div><div class="flex space-x-4"><button id="toggleBtn" class="px-8 py-3 bg-indigo-500 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-600 transition-colors">Démarrer</button></div><div class="mt-8 text-left max-w-2xl w-full bg-white/80 p-6 rounded-xl shadow-sm"><h2 class="text-2xl font-bold text-slate-700 mb-3">Description</h2><p class="text-slate-600 mb-4">Popularisée par le Dr. Andrew Weil, la technique 4-7-8 est un "tranquillisant naturel". La longue expiration est la clé : elle active intensément le système nerveux parasympathique, responsable de la relaxation.</p><h2 class="text-2xl font-bold text-slate-700 mb-3">Les Bienfaits</h2><ul class="list-disc list-inside space-y-2 text-slate-600"><li>Aide à s'endormir plus rapidement.</li><li>Calme le système nerveux en cas de crise d'anxiété.</li><li>Permet de se recentrer rapidement.</li></ul><h2 class="text-2xl font-bold text-slate-700 mb-3">Comment Pratiquer</h2><ul class="list-disc list-inside space-y-2 text-slate-600"><li>Placez le bout de votre langue contre le palais, derrière les dents de devant.</li><li><strong>Expirez</strong> complètement par la bouche en faisant un son de souffle.</li><li>Fermez la bouche et <strong>inspirez</strong> par le nez en comptant jusqu'à <strong>4</strong>.</li><li><strong>Retenez</strong> votre souffle en comptant jusqu'à <strong>7</strong>.</li><li><strong>Expirez</strong> bruyamment par la bouche en comptant jusqu'à <strong>8</strong>.</li></ul></div></div>`;
            const bar = document.getElementById('bar'); const i = document.getElementById('instruction'); const b = document.getElementById('toggleBtn'); let isActive = false; let phaseIndex = 0; const cycle = [ { name: "Inspirez...", duration: 4000, height: 100, sound: () => { audio?.releaseAll(); audio?.inspireAttack(); } }, { name: "Bloquez...", duration: 7000, height: 100, sound: () => { audio?.releaseAll(); audio?.retainAttack(); } }, { name: "Expirez...", duration: 8000, height: 0, sound: () => { audio?.releaseAll(); audio?.expireAttack(); } }, ];
            function runCycle() { if (!isActive) return; const p = cycle[phaseIndex]; i.textContent = p.name; bar.style.transition = `height ${p.duration / 1000}s linear`; bar.style.height = `${p.height}%`; p.sound(); activeTimeout = setTimeout(() => { phaseIndex = (phaseIndex + 1) % cycle.length; runCycle(); }, p.duration); }
            b.addEventListener('click', () => { setupAudio(); audio.start(); isActive = !isActive; b.textContent = isActive ? 'Arrêter' : 'Démarrer'; if (isActive) { runCycle(); } else { cleanup(); phaseIndex = 0; i.textContent = "Prêt ?"; bar.style.height = '0%'; } });
        }
        
        function renderAfghanePage() {
            appContent.innerHTML = `<div class="flex flex-col items-center justify-center p-4 text-center"><h1 class="text-4xl font-bold text-slate-800 mb-4">Marche Afghane</h1><div class="w-full max-w-md p-6 bg-white rounded-2xl shadow-lg my-8"><p id="instruction" class="text-4xl font-bold text-emerald-600 mb-4 h-16 flex items-center justify-center">Prêt ?</p><div id="dots" class="flex justify-center items-center space-x-2 h-16">${[...Array(10)].map(() => `<div class="w-4 h-4 rounded-full bg-slate-300 transition-all duration-300"></div>`).join('')}</div></div><div class="flex space-x-4"><button id="toggleBtn" class="px-8 py-3 bg-emerald-500 text-white font-semibold rounded-lg shadow-md hover:bg-emerald-600 transition-colors">Guidez-moi</button><button id="resetBtn" class="px-8 py-3 bg-slate-400 text-white font-semibold rounded-lg shadow-md hover:bg-slate-500 transition-colors">Réinitialiser</button></div><div class="mt-8 text-left max-w-2xl w-full bg-white/80 p-6 rounded-xl shadow-sm"><h2 class="text-2xl font-bold text-slate-700 mb-3">Description</h2><p class="text-slate-600 mb-4">La marche afghane est une technique de marche consciente qui synchronise le rythme des pas avec celui de la respiration. Elle transforme la marche en une méditation active.</p><h2 class="text-2xl font-bold text-slate-700 mb-3">Les Bienfaits</h2><ul class="list-disc list-inside space-y-2 text-slate-600"><li>Augmente l'oxygénation du corps et l'endurance.</li><li>Calme le mental.</li><li>Améliore la circulation sanguine.</li></ul><h2 class="text-2xl font-bold text-slate-700 mb-3">Comment Pratiquer</h2><div class="text-slate-600 space-y-2"><p>Synchronisez votre souffle sur le rythme <b>3-2-3-2</b> :</p><ul class="list-disc list-inside ml-4"><li><strong>J'inspire</strong> sur 3 pas.</li><li><strong>Je retiens</strong> mon souffle (poumons pleins) sur 2 pas.</li><li><strong>J'expire</strong> sur 3 pas.</li><li><strong>Je retiens</strong> mon souffle (poumons vides) sur 2 pas.</li></ul></div></div></div>`;
            const i = document.getElementById('instruction'), d = document.getElementById('dots').children, t = document.getElementById('toggleBtn'), r = document.getElementById('resetBtn'); let isActive = false, step = 0;
            function update() { if (!isActive) return; if (step < 3) i.textContent = `Inspirez... (Pas ${step + 1})`; else if (step < 5) i.textContent = "Retenez..."; else if (step < 8) i.textContent = `Expirez... (Pas ${step - 4})`; else i.textContent = "Retenez..."; for (let j=0; j<d.length; j++) { d[j].classList.remove('bg-emerald-500','scale-125'); d[j].classList.add('bg-slate-300'); } d[step].classList.add('bg-emerald-500','scale-125'); if (step === 0) { audio?.releaseAll(); audio?.inspireAttack(); } else if (step === 3) { audio?.releaseAll(); audio?.retainAttack(); } else if (step === 5) { audio?.releaseAll(); audio?.expireAttack(); } else if (step === 8) { audio?.releaseAll(); audio?.retainAttack(); } step = (step + 1) % 10; }
            t.addEventListener('click', () => { setupAudio(); audio.start(); isActive = !isActive; t.textContent = isActive ? 'Pause' : 'Guidez-moi'; if (isActive) { update(); activeInterval = setInterval(update, 1200); } else { clearInterval(activeInterval); audio?.releaseAll(); } });
            r.addEventListener('click', () => { cleanup(); isActive = false; step = 0; i.textContent = "Prêt ?"; t.textContent = 'Guidez-moi'; for (let j=0; j<d.length; j++) { d[j].classList.remove('bg-emerald-500','scale-125'); } });
        }
        
        navigateTo('home');
    });
    </script>

</body>
</html>